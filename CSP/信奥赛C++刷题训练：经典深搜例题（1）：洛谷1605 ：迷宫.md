---
title: CSP/信奥赛C++刷题训练：经典深搜例题（1）：洛谷1605 ：迷宫
date:
updated:
tags: 
  - null
categories:
  - null
keywords: null
description: null
comments: https://i-blog.csdnimg.cn/direct/7563389c7b804d1e91036957801828be.png#pic_center
cover: https://i-blog.csdnimg.cn/direct/7563389c7b804d1e91036957801828be.png#pic_center
toc:
toc_number:
copyright:
copyright_author:
copyright_author_href:
copyright_url:
copyright_info:
mathjax:
katex:
aplayer:
highlight_shrink:
aside: 
---
CSP/信奥赛C++刷题训练：经典深搜例题（1）：洛谷1605 ：迷宫
-----------------------------------

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/7563389c7b804d1e91036957801828be.png#pic_center)

### 题目描述

给定一个 N × M N \\times M N×M 方格的迷宫，迷宫里有 T T T 处障碍，障碍处不可通过。

在迷宫中移动有上下左右四种方式，每次只能移动一个方格。数据保证起点上没有障碍。

给定起点坐标和终点坐标，每个方格最多经过一次，问有多少种从起点坐标到终点坐标的方案。

### 输入格式

第一行为三个正整数 N , M , T N,M,T N,M,T，分别表示迷宫的长宽和障碍总数。

第二行为四个正整数 S X , S Y , F X , F Y SX,SY,FX,FY SX,SY,FX,FY， S X , S Y SX,SY SX,SY 代表起点坐标， F X , F Y FX,FY FX,FY 代表终点坐标。

接下来 T T T 行，每行两个正整数，表示障碍点的坐标。

### 输出格式

输出从起点坐标到终点坐标的方案总数。

### 样例 #1

#### 样例输入 #1

    2 2 1
    1 1 2 2
    1 2

#### 样例输出 #1

    1

### 提示

对于 100 % 100\\% 100% 的数据， 1 ≤ N , M ≤ 5 1 \\le N,M \\le 5 1≤N,M≤5， 1 ≤ T ≤ 10 1 \\le T \\le 10 1≤T≤10， 1 ≤ S X , F X ≤ n 1 \\le SX,FX \\le n 1≤SX,FX≤n， 1 ≤ S Y , F Y ≤ m 1 \\le SY,FY \\le m 1≤SY,FY≤m。
> 使用深搜解题

```prism language-cpp
#include<bits/stdc++.h>
using namespace std;
int n,m,t,sx,sy,fx,fy,ans=0; 
int a[6][6];//地图 
bool vis[6][6];//标记数组 
int dx[4]={-1,0,1,0};//上、右、下、左 
int dy[4]={0,1,0,-1};
void dfs(int x,int y){
	if(x==fx && y==fy){//边界条件 
		ans++;
		return;
	}
	for(int i=0;i<=3;i++){//遍历四个方向 
		int nx=x+dx[i];
		int ny=y+dy[i];
		//如果不超出边界，且不是障碍点，且没有走过 
		if(nx>=1 && nx<=n && ny>=1 && ny<=m && a[nx][ny]==0 && vis[nx][ny]==0){
			vis[nx][ny]=1;//标记 
			dfs(nx,ny);//递归深搜 
			vis[nx][ny]=0;//回溯 
		} 
	}
	
}
int main(){
	cin>>n>>m>>t;
	cin>>sx>>sy>>fx>>fy;
	int x,y;
	for(int i=1;i<=t;i++){
		cin>>x>>y;
		a[x][y]=1;//障碍 
	}
	vis[sx][sy]=1; 
	dfs(sx,sy);
	cout<<ans;
	return 0;
} 
```

> 文末彩蛋：

[点击***王老师青少年编程主页***有更多精彩内容](https://edu.csdn.net/lecturer/7901)
